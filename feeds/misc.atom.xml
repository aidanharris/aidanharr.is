<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Aidan Harris - misc</title><link href="https://aidanharr.is/" rel="alternate"></link><link href="https://aidanharr.is/feeds/misc.atom.xml" rel="self"></link><id>https://aidanharr.is/</id><updated>2017-05-27T18:21:00+01:00</updated><entry><title>Switching from 1Password to Pass</title><link href="https://aidanharr.is/switching-from-1password-to-pass.html" rel="alternate"></link><published>2017-05-27T18:21:00+01:00</published><updated>2017-05-27T18:21:00+01:00</updated><author><name>aidanharris</name></author><id>tag:aidanharr.is,2017-05-27:/switching-from-1password-to-pass.html</id><summary type="html">&lt;p&gt;I've decided to switch password managers from &lt;a href="https://1password.com/"&gt;1Password&lt;/a&gt; to &lt;a href="https://www.passwordstore.org/"&gt;Pass&lt;/a&gt;. This blog post will detail my thoughts on the subject and explain the pros and cons of doing so.&lt;/p&gt;
&lt;p&gt;Before I get started I feel like I wouldn't be doing my civic duty if I didn't take this time to ‚Ä¶&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've decided to switch password managers from &lt;a href="https://1password.com/"&gt;1Password&lt;/a&gt; to &lt;a href="https://www.passwordstore.org/"&gt;Pass&lt;/a&gt;. This blog post will detail my thoughts on the subject and explain the pros and cons of doing so.&lt;/p&gt;
&lt;p&gt;Before I get started I feel like I wouldn't be doing my civic duty if I didn't take this time to tell you to use a password manager if you're not doing so already:&lt;/p&gt;
&lt;h1&gt;&lt;strong&gt;*USE A PASSWORD MANAGER&lt;/strong&gt;&lt;/h1&gt;
&lt;h3&gt;Why Pass?&lt;/h3&gt;
&lt;p&gt;You might be wondering why I'd choose pass, heck you might not have even heard of it before reading this ("pass" isn't exactly a very SEO friendly name). "What's wrong with 1Password" you might ask. Well as it turns out, a lot of things. Don't get me wrong it's a very good password manager and if it works for you then great. However I feel like I've gotten to the point where 1Password no longer suits my needs. 1Password was great while I was operating in the Apple bubble. Once upon a time I had an iPhone, an iPad and a Macbook and all was well with the world. Then I discovered the big bad &lt;strike&gt;Linux&lt;/strike&gt; GNU/Linux üêß (that's a penguin, for the uninitiated - or those without a decent font that supports &lt;strike&gt;emoji&lt;/strike&gt; Unicode).&lt;/p&gt;
&lt;p&gt;Believe it or not 1Password works surprisingly well under GNU/Linux using &lt;a href="https://www.winehq.org"&gt;Wine&lt;/a&gt;. The main issues I have with 1Password are as follows:&lt;/p&gt;
&lt;h4&gt;Closed source&lt;/h4&gt;
&lt;p&gt;While I have no reason to doubt that 1Password is in any way, shape, or form compromised, I can't help but feel that the strong and stable (pun intended) foundations of git and gpg hugely benefit pass over the black-box of 1Password.&lt;/p&gt;
&lt;h4&gt;Synchronisation&lt;/h4&gt;
&lt;p&gt;Local file synchronisation is a massive pain with 1Password. I refuse to use Dropbox and iCloud sync doesn't work on Windows or GNU/Linux so that's out of the question too. My current solution to this conundrum is a hodgepodge of &lt;a href="https://syncthing.net"&gt;Syncthing&lt;/a&gt; and using the wifi-sync. This is &lt;strong&gt;not&lt;/strong&gt; scalable and could no doubt cause problems if I continue down this path. Using git completely side-steps this issue altogether. I can sync using a local git repository or a private remote repository.&lt;/p&gt;
&lt;h3&gt;Disadvantages of Pass&lt;/h3&gt;
&lt;p&gt;While I see Pass as the way forward, it's not all bright and rosy, there are some things that I dislike about it.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Hard to migrate - &lt;a href="https://github.com/roddhjav/pass-import"&gt;pass-import&lt;/a&gt; exists but it didn't want to work at all. I'm now in a laborious process to slowly migrate each and every password I've built up over the years from 1Password to Pass. Not Good!&lt;/li&gt;
&lt;li&gt;Mobile Integration? - It looks like there's solid Android integration, iOS may be a challenge ;)&lt;/li&gt;
&lt;li&gt;Winblows - &lt;a href="https://github.com/mbos/Pass4Win"&gt;Pass4Win&lt;/a&gt; exists but is deprecated, WSL despite its hype doesn't support USB devices and I don't trust Windows enough to leave my GPG keys lying around. I guess I could use Virtualbox with USB pass-through for my Yubikey. I don't do any serious work on Windows anyway though, so I doubt this will be an issue.&lt;/li&gt;
&lt;li&gt;No support for storing files - I can botch it by base64 encoding files and may be able to simply store the files in the git repo but not sure how that'll work on other devices.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Conclusion&lt;/h3&gt;
&lt;p&gt;Despite its shortcomings I feel that pass is the way to go. It's more scalable than 1Password and is built on top of a rock solid foundation of gpg and git. It also doesn't hurt that it has solid integration with &lt;a href="https://github.com/klaasb/passdmenu"&gt;dmenu&lt;/a&gt; :).&lt;/p&gt;
&lt;p&gt;&lt;small&gt;*Big bold text added, for dramatic effect&lt;/small&gt;&lt;/p&gt;</content></entry><entry><title>Installing Dotnet Core on Arch Linux</title><link href="https://aidanharr.is/installing-dotnet-core-on-arch.html" rel="alternate"></link><published>2017-05-07T11:00:00+01:00</published><updated>2017-05-07T11:00:00+01:00</updated><author><name>aidanharris</name></author><id>tag:aidanharr.is,2017-05-07:/installing-dotnet-core-on-arch.html</id><summary type="html">&lt;article style="display: block;font-style: normal;letter-spacing: 0;font-weight: 400;font-size: 16px;margin: 0 auto;width: 75%;white-space: pre-wrap;"&gt;
Installing and running dotnet core on ArchLinux is a bit of a pain. Thankfully there are some packages in the &lt;a href="https://aur.archlinux.org/packages/?K=dotnet%2D"&gt;AUR&lt;/a&gt; which slightly ease the process.

&lt;h3&gt;Re-Compiling OpenSSL&lt;/h3&gt;

Arch has removed support for openssl-v3 compatibility. This means you will need a patched version of OpenSSL before you even do anything ‚Ä¶&lt;/article&gt;</summary><content type="html">&lt;article style="display: block;font-style: normal;letter-spacing: 0;font-weight: 400;font-size: 16px;margin: 0 auto;width: 75%;white-space: pre-wrap;"&gt;
Installing and running dotnet core on ArchLinux is a bit of a pain. Thankfully there are some packages in the &lt;a href="https://aur.archlinux.org/packages/?K=dotnet%2D"&gt;AUR&lt;/a&gt; which slightly ease the process.

&lt;h3&gt;Re-Compiling OpenSSL&lt;/h3&gt;

Arch has removed support for openssl-v3 compatibility. This means you will need a patched version of OpenSSL before you even do anything else. Luckily this is easy enough to do. Install &lt;a href="https://aur.archlinux.org/packages/customizepkg-git/"&gt;customizepkg-git&lt;/a&gt; from the AUR. Once customizepkg is installed add the following to &lt;code&gt;/etc/customizepkg.d/openssl&lt;/code&gt;:

&lt;code&gt;
replace#global#no-ssl3-method#zlib
replace#global#no-ssl3#zlib
&lt;/code&gt;

Now patch openssl as follows:

&lt;code&gt;yaourt -S openssl&lt;/code&gt;

&lt;h3&gt;Install Dotnet Core (sdk, coreclr and cli)&lt;/h3&gt;

&lt;code&gt;pacaur -S --needed icu icu58 libunwind lldb dotnet dotnet-cli dotnet-sdk&lt;/code&gt;

&lt;h3&gt;Testing Installation&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;
mkdir -p /tmp/dotnet
cd /tmp/dotnet
export DOTNET_CLI_TELEMETRY_OPTOUT=1 # You're going to want to add this to your shell's rc file
dotnet new console
dotnet restore
dotnet build
dotnet run
&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;Troubleshooting&lt;/h3&gt;

    &lt;h4&gt;Object reference not set to an instance of an object&lt;/h4&gt;

    This can be fixed by removing the templating directory as follows:

    &lt;code&gt;rm -rf ~/.templateengine&lt;/code&gt;

    &lt;a href="https://github.com/dotnet/templating/issues/657"&gt;dotnet/templating#657&lt;/a&gt;

&lt;/article&gt;</content></entry><entry><title>Mount CloneZilla Image</title><link href="https://aidanharr.is/mount-clonezilla-image.html" rel="alternate"></link><published>2017-02-02T08:00:00+00:00</published><updated>2017-02-02T08:00:00+00:00</updated><author><name>aidanharris</name></author><id>tag:aidanharr.is,2017-02-02:/mount-clonezilla-image.html</id><summary type="html">&lt;p&gt;The contents of this article are taken from &lt;a href="http://blog.christosoft.de/2012/05/mount-clonezilla-image-to-restore-single-file-browse"&gt;blog.christosoft.de&lt;/a&gt; which I'm referencing for future use.&lt;/p&gt;
&lt;blockquote cite="http://blog.christosoft.de/2012/05/mount-clonezilla-image-to-restore-single-file-browse/" style="display: block;font-style: normal;letter-spacing: 0;font-weight: 400;font-size: 16px;margin: 0 auto;width: 75%;white-space: pre-wrap;"&gt;

&lt;h3&gt;Mount clonezilla image to restore single file (browse)&lt;/h3&gt;

&lt;a href="http://clonezilla.org/"&gt;Clonezilla&lt;/a&gt; is a fine tool to backup/restore/clone partitions or drives. It is very powerful, can handle both Linux and Windows partitions and so ‚Ä¶&lt;/blockquote&gt;</summary><content type="html">&lt;p&gt;The contents of this article are taken from &lt;a href="http://blog.christosoft.de/2012/05/mount-clonezilla-image-to-restore-single-file-browse"&gt;blog.christosoft.de&lt;/a&gt; which I'm referencing for future use.&lt;/p&gt;
&lt;blockquote cite="http://blog.christosoft.de/2012/05/mount-clonezilla-image-to-restore-single-file-browse/" style="display: block;font-style: normal;letter-spacing: 0;font-weight: 400;font-size: 16px;margin: 0 auto;width: 75%;white-space: pre-wrap;"&gt;

&lt;h3&gt;Mount clonezilla image to restore single file (browse)&lt;/h3&gt;

&lt;a href="http://clonezilla.org/"&gt;Clonezilla&lt;/a&gt; is a fine tool to backup/restore/clone partitions or drives. It is very powerful, can handle both Linux and Windows partitions and so on. If you do not know it, you should really give it a try. It is really free software (open source), which means it is also free to use for commercial purposes.

By the way, if you want to backup/restore images of Windows partitions/drives, I‚Äôd also recommend &lt;a href="http://www.runtime.org/driveimage-xml.htm"&gt;DriveImage XML&lt;/a&gt; which is also very powerful yet simple (only free for private use). Windows 7 has also built-in backup and imaging tools, which you can give a try. But this post is about Clonezilla.

One important feature that Clonezilla does not offer out of the box is browsing images to restore single files. You can only restore complete partitions or drives.

But there is a way around this, which is &lt;a href="http://ubuntuforums.org/showthread.php?t=872832"&gt;discussed in this forum thread&lt;/a&gt;, although not perfect as it requires lots of time and disk space as well.

The basic approach is to convert the whole image into a (probably huge) img-file that can be easily mounted. In the forum post linked above several different commands are discussed depending on your image file.
Here I‚Äôd like to show you what worked for me.

In my case, the file was compressed using gzip and it was an image of a linux partition (ext3). I used Ubuntu Linux to mount the image. The steps I took:

Install partclone (sudo apt-get install partclone)
Prepare an img-file somewhere where enough free disk space is available:

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="highlight kd"&gt;touch&lt;/span&gt;/dir-to-new-image/partition.img
&lt;/pre&gt;&lt;/div&gt;

You should have at least as much free disk space as the size of the image there.
Convert the clonezilla-image into the img-file:

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="hightlight kd"&gt;sudo cat&lt;/span&gt; /dir-to-images/partition.ext3.ptcl-img.gz.*
&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="highlight kd" style="background: transparent;"&gt;sudo gzip&lt;/span&gt;-d -c
&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="highlight kd" style="background: transparent;"&gt;sudo partclone.restore&lt;/span&gt;-C -s - -O /dir-to-new-image/partition.img&lt;/pre&gt;&lt;/div&gt;

(This is one line. Note the minus after -s. I overlooked it when I tried this first.)
This will take some time, dependent on how big the image and how fast your drive(s).
There are other commands in the forum thread for NTFS images and other compression formats.

Mount the img-file:

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="highlight kd"&gt;sudo mount&lt;/span&gt;-o loop -t ext3 /dir-to-new-image/partition.img /mnt&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

Thanks a lot to all posters of the forum mentioned above for these hints, especially bfitzhugh, nutria007, ttguy and gaebriel!

P.S.: It‚Äôs always good to have a (recent) backup üòâ One drive of mine just crashed after about two years in operation, so I know what I am talking about‚Ä¶

Think about what pain it would be if the drive of your laptop / desktop would crash just right now. If you get a bad feeling thinking about this, you should make a backup now.
&lt;/blockquote&gt;

&lt;hr/&gt;

&lt;p&gt;&lt;em&gt;NOTE: &lt;/em&gt; In my case I had to use the excellent &lt;a href="http://www.cgsecurity.org/wiki/TestDisk"&gt;testdisk&lt;/a&gt; to restore the NTFS boot sector. Without this the image wouldn't mount.&lt;/p&gt;</content></entry></feed>